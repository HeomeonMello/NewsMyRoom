<!DOCTYPE html>
<html lang="en">
<head>
    <title>NewsMyRoom Search</title>
    <meta charset="utf-8">
    <meta name="author" content="NewsMyRoom Team">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="NewsMyRoom - Personalized News" />
    <meta property="og:description" content="Discover personalized news and insights tailored to your interests." />
    <meta property="og:url" content="https://newsmyroom.example.com/search.html" />
    <meta property="og:site_name" content="NewsMyRoom" />
    <meta property="og:image" content="images/screenshot.png" />

    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">

    <!-- CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/selectize.bootstrap3.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/daterangepicker.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link href="css/all.css" rel="stylesheet">

    <!-- JS -->
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/popper.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/selectize.min.js"></script>
    <script type="text/javascript" src="js/moment.min.js"></script>
    <script type="text/javascript" src="js/daterangepicker.js"></script>
    <script type="text/javascript" src="js/d3.min.js"></script>
    <script type="text/javascript" src="init.js"></script>
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
    <a class="navbar-brand" href="./" style="font-size: 1.5em;">
        <i class="fa fa-newspaper"></i> NewsMyRoom
    </a>
    <div style="position: absolute; right: 5px;">
        <button class='helpbutton btn-link' type="button" data-target="#helpModal" data-toggle="modal" style="float: right; margin-right: 5px;">
            <i class="fa fa-info-circle fa-lg" title="Help"></i>
        </button>
        <button class='zoombutton btn-link' type="button" onclick="iframe_zoom(1)" style="float: right; margin-right: 5px; width: 30px">
            <i class="fa fa-search-plus fa-lg" title="Increase font size"></i>
        </button>
        <button class='zoombutton btn-link' type="button" onclick="iframe_zoom(0)" style="float: right; margin-right: 5px; width: 30px">
            <i class="fa fa-search-minus fa-lg" title="Reduce font size"></i>
        </button>
    </div>
</nav>

<div class="container-fluid" id="main_row">
    <div class="row">
        <div class="col-md-4 col-sm-12" id="side_panel">
            <p style="line-height: 100%; display: block; padding-top: 4px;">
                Welcome to <strong>NewsMyRoom</strong>, your personalized news discovery platform. Use the search tools to find news articles, trends, and insights tailored to your interests.
            </p>
            <hr />

            <!-- INPUT TABS -->
            <div class="row tab col-12">
                <button class="inputTabLinks col-4" onclick="manageInputTabs(event, 'tab_search')" id='searchTabInput' title="Search by keyword">SEARCH</button>
                <button class="inputTabLinks col-4" onclick="manageInputTabs(event, 'tab_image')" id='imageTabInput' title="Search by image tags">IMAGE</button>
                <button class="inputTabLinks col-4" onclick="manageInputTabs(event, 'tab_theme')" id='themeTabInput' title="Search by theme">THEME</button>
            </div>

            <!-- SEARCH TAB -->
            <div id="tab_search" class="inputTab">
                <div class="row col-12">
                    <div class="col-12">
                        <label for="query">Search terms</label>
                        <input class="col-12" type="text" id="query" value='' title='Enter keywords or phrases. Use quotes for exact phrases, parentheses for OR conditions, and -keyword for exclusions.'>
                    </div>
                </div>
            </div>

            <!-- IMAGE TAB -->
            <div id="tab_image" class="inputTab">
                <div class="row col-12">
                    <div class="col-11">
                        <label for="imagetag">Image tags</label>
                        <select class="form-control pickerSelectClass dd_opt" type="text" id="imagetag"></select>
                    </div>
                    <div class="col-1">
                        <label id="imagetag_bool_lab" for="imagetag_bool" title="Multiple tags are OR by default. Check to use AND logic.">and</label>
                        <input id="imagetag_bool" name="imagetag_bool" type="checkbox" onchange="checkboxImageBool()" title="Use AND instead of OR for multiple tags"/>
                    </div>
                </div>
            </div>

            <!-- THEME TAB -->
            <div id="tab_theme" class="inputTab">
                <div class="row col-12">
                    <div class="col-11">
                        <label for="theme">Themes</label>
                        <select class="form-control pickerSelectClass dd_opt" type="text" id="theme"></select>
                    </div>
                    <div class="col-1">
                        <label id="theme_bool_lab" for="theme_bool" title="Multiple tags are OR by default. Check to use AND logic.">and</label>
                        <input id="theme_bool" name="theme_bool" type="checkbox" value="yes" onchange="checkboxThemeBool()" title="Use AND logic for multiple themes"/>
                    </div>
                </div>
            </div>

            <!-- COUNTRIES & LANGUAGES -->
            <div class="row col-12">
                <div class="col-6 selectContainer">
                    <label for="sourcecountry">Source countries</label>
                    <select class="form-control pickerSelectClass dd_opt" id="sourcecountry"></select>
                </div>
                <div class="col-6 selectContainer">
                    <label for="sourcelang">Source languages</label>
                    <select class="form-control pickerSelectClass dd_opt" id="sourcelang"></select>
                </div>
            </div>

            <!-- DOMAINS -->
            <div class="row col-12">
                <div class="col-9 selectContainer">
                    <label for="domain">Domains</label>
                    <select class="form-control pickerSelectClass dd_opt" id="domain"></select>
                </div>
                <div class="col-3">
                    <label id="domainis_lab" for="domainis" title="Exclude subdomains?">
                        <input id="domainis" name="domainis" type="checkbox" value="yes" onchange="checkboxDomain()"/> Exclude?
                    </label>
                </div>
            </div>

            <!-- DATE/TIME -->
            <div class="row col-12">
                <div class="col-8x">
                    <label for="datetime">Date range</label>
                    <input id="datetime" type="text" name="daterange" value="09/30/2017 - 12/20/2017" class="col-12x" disabled
                           title="Select a date range for articles. If 'Recent' is specified, this is disabled."/>
                </div>
                <div class="col-2x">
                    <label id="timespanlab" for="timespan">Recent</label>
                    <input id="timespan" class="col-12x" name="timespan" type='text' value='1d'
                           title='Specify recent period (e.g. "12h", "5d", "3w", "6m", "1y")'/>
                </div>
                <div class="col-2">
                    <label id="trans_lab" for="trans" title="Translate article titles">GT</label>
                    <input id="trans" name="trans" type="checkbox" value="yes" onchange="checkboxTrans()"
                           title="Enable Google Translate for article titles"/>
                </div>
            </div>

            <br />
            <hr />

            <!-- OUTPUT TABS -->
            <div class="row tab col-12">
                <button id="contentTabOutput" class="outputTabLinks col-3" onclick="manageOutputTabs(event, 'tab_content')" title="View content results">CONTENT</button>
                <button id="timelineTabOutput" class="outputTabLinks col-3" onclick="manageOutputTabs(event, 'tab_timeline')" title="View timeline analytics">TIMELINE</button>
                <button id="geoTabOutput" class="outputTabLinks col-3" onclick="manageOutputTabs(event, 'tab_geo')" title="View geographical analytics">GEO</button>
                <button id="tvTabOutput" class="outputTabLinks col-3" onclick="manageOutputTabs(event, 'tab_tv')" title="View television news analytics">TV</button>
            </div>

            <!-- CONTENT TAB -->
            <div id="tab_content" class="outputTab">
                <div class="row col-12">
                    <div class="col-12">
                        <label for="contentmode">Visualization options</label>
                        <select class="form-control pickerSelectClass col-12" id="contentmode" value="ArtList"></select>
                    </div>
                </div>
                <div id="doc_results_options" class="row col-12">
                    <div id="maxrecordsdiv" class="col-4 selectContainer">
                        <label for="maxrecords">Results: <span id="maxrecordslab"></span></label>
                        <input type="range" min="1" max="250" value="75" class="slider col-12" id="maxrecords" title="Number of records to return">
                    </div>
                    <div id="timelinesmoothdiv" class="col-3 selectContainer" style="display: none;">
                        <label for="timelinesmooth">Smooth: <span id="timelinesmoothlab"></span></label>
                        <input type="range" min="0" max="30" value="0" class="slider col-12" id="timelinesmooth" title="Timeline smoothing factor">
                    </div>
                    <div class="col-3 selectContainer">
                        <label for="format">Format</label>
                        <select class="form-control pickerSelectClass dd_opt" id="format" class="col-12"></select>
                    </div>
                    <div id="sortdiv" class="col-5 selectContainer">
                        <label for="sort">Sort</label>
                        <select class="form-control pickerSelectClass dd_opt" id="sort" class="col-12"></select>
                    </div>
                </div>
            </div>

            <!-- TIMELINE TAB -->
            <div id="tab_timeline" class="outputTab">
                <div class="row col-12">
                    <div class="col-12">
                        <label for="timelinemode">Timeline options</label>
                        <select class="form-control pickerSelectClass col-12" id="timelinemode" value="TimeLineVol"></select>
                    </div>
                </div>
            </div>

            <!-- GEO TAB -->
            <div id="tab_geo" class="outputTab">
                <div class="row col-12">
                    <div class="col-12">
                        <label for="geomode">Geo options</label>
                        <select class="form-control pickerSelectClass col-12" id="geomode" value="PointData"></select>
                    </div>
                </div>
                <div class="row col-12">

                    <div class="col-4 selectContainer">
                        <label for="geoformat">Format</label>
                        <select class="form-control pickerSelectClass dd_opt" id="geoformat" class="col-12"></select>
                    </div>
                    <div class="col-2 selectContainer">
                        <label for="geotimespan" class="center-block2">Recent</label>
                        <input class="center-block2" type="text" id="geotimespan" value='1d'>
                    </div>
                    <div class="col-2 selectContainer">
                        <label for="geogeores" class="center-block2">GeoRes</label>
                        <input class="center-block2" type="text" id="geogeores" value=''>
                    </div>
                    <div class="col-4 selectContainer">
                        <label for="geonear">Near</label>
                        <input class="col-12" type="text" id="geonear" value=''>
                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-4 selectContainer">
                        <label for="geolocationcc">Country</label>
                        <select class="form-control pickerSelectClass dd_opt" id="geolocationcc"></select>
                    </div>
                    <div class="col-4 selectContainer">
                        <label for="geolocationadm1">ADM1</label>
                        <select class="form-control pickerSelectClass dd_opt" id="geolocationadm1" class="col-12"></select>
                    </div>
                    <div class="col-4 selectContainer">
                        <label for="geolocation">Location</label>
                        <input class="col-12" type="text" id="geolocation" value=''>
                    </div>
                </div>
            </div>

            <!-- TV TAB -->
            <div id="tab_tv" class="outputTab">
                <div class="row col-12">
                    <div class="col-12">
                        <label for="tvmode">TV options</label>
                        <select class="form-control pickerSelectClass col-12" id="tvmode" value="TimelineVol"></select>
                    </div>
                </div>
                <div class="row col-12">
                    <div class="col-9">
                        <label for="network">Network</label>
                        <select class="form-control pickerSelectClass dd_opt col-12" type="text" id="network"></select>
                    </div>
                    <div class="col-3">
                        <label for="context">Context terms</label>
                        <input class="col-12" type="text" id="context" value=''>
                    </div>
                </div>
            </div>

            <hr>
            <div class="row col-12">
                <a id="gdelt_api_call" class="col-11 inline-block" target='_blank'></a>
                <button type="button" class="col-1 inline-block btn-link" onclick="copyApiCall()" style="border: none; padding: 1px; color:cyan;">
                    <i id="copybutton" class="fa fa-clipboard fa-sm" title="Copy URL"></i>
                </button>
            </div>
        </div>  <!-- END SIDE-PANEL -->

        <!-- MAIN PANEL -->
        <div id="main_panel" class="col-md-8 col-sm-12 intrinsic-container intrinsic-container-16x9">
            <div id='main_panel_title_row' class="row col-12">
                <h3 style='position: in-line; float:left; padding-top:10px; padding-left: 10px;'>
                    <i class="fa fa-search fa-sm" style='position: in-line; float:left; padding: 10px; padding-left: 2px; padding-top: 15px;'></i>
                    <div id="iframe_title"></div>
                </h3>
            </div>
            <div id='iframe_container' class="row col-12">
                <iframe id="gdelt_iframe" width="100%" src="" frameBorder="0"></iframe>
            </div>
        </div>
    </div>
</div>

<!-- HELP MODAL -->
<div class="modal fade" id="helpModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">How to use NewsMyRoom Search</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Use the search tools to discover news articles that matter to you. Refine by keywords, image tags, themes, languages, and more. Adjust date ranges, recent filters, and even enable translation of article headlines.</p>
                <ul>
                    <li><b>Search terms</b>: Use quotes for exact phrases, AND/OR logic, and minus sign (-) to exclude terms.</li>
                    <li><b>Image tags</b>: Filter by visual features in images.</li>
                    <li><b>Themes</b>: Explore content by conceptual themes.</li>
                    <li><b>Countries/Languages</b>: Narrow results by region or language.</li>
                    <li><b>Date/Time</b>: Set a specific date range or recent timespan.</li>
                    <li><b>Translation (GT)</b>: Enable translation to view titles in your preferred language.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="responsive.js"></script>
<script type="text/javascript" src="main.js"></script>
<script type="text/javascript" src="compare.js"></script>
</body>
</html>
