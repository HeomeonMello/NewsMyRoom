<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>NewsMyRoom - Personalized News</title>
    <meta name="description" content="Stay updated with personalized news tailored to your interests. NewsMyRoom brings you the latest articles, trends, and insights globally.">
    <meta name="keywords" content="personalized news, news platform, NewsMyRoom">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link href="favicon.ico" type="image/x-icon" rel="icon" />
    <link href="favicon.ico" type="image/x-icon" rel="shortcut icon" />
    <link rel="stylesheet" type="text/css" href="css/googlefonts-audiowide/googlefont-audiowide.css">
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
</head>
<body class="content" data-spy="scroll" data-target=".sub-navbar" data-offset="100">

<div class="wrapper-relative">

    <header>
        <div class="container center">
            <h1 class="header-logo-public">
                <a href="index.html" title="NewsMyRoom" rel="home" style="font-family: 'Audiowide', serif; font-size: 26pt">NewsMyRoom</a>
            </h1>
            <div class="header-nav-wrapper dropdown">
                <a class="menu-icon dropdown-toggle dropdown-mobile" href="#"></a>
                <ul class="header-nav" id="nav_items">
                    <!-- 로그인 상태에 따라 이 부분 변경 -->
                    <!-- 기본 상태(비로그인) -->
                    <li class="right with-margin quiet" id="nav_login_item"><a href="login.html" class="muted" id="nav_login">Log In</a></li>


                    <li class="right with-margin" id="nav_user_item" style="display:none;">
                        <a href="#" class="muted" id="nav_user_info">Hello, USERNAME</a>
                    </li>
                    <li class="right with-margin" id="nav_logout_item" style="display:none;">
                        <a href="#" class="muted" id="nav_logout">Log Out</a>
                    </li>
                    

                    <li class="link"><a href="trends.html">Trending</a></li>
                    <li class="link"><a href="search.html" id="nav_search">Search</a></li>
                    <li class="link"><a href="preferences.html" id="nav_preferences">Preferences</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <div class="leader" style="background-image: url('images/network-visual.jpg')" id="intro">
        <div class="sub-navbar">
            <div class="container">
                <div class="row">
                    <div class="span12">
                        <ul class="nav">
                            <li class="span2">
                                <a href="#intro">Intro</a>
                            </li>
                            <li class="span2">
                                <a href="#trending">Trending</a>
                            </li>
                            <li class="span2">
                                <a href="#personalization">Personalization</a>
                            </li>
                            <li class="span2">
                                <a href="#actionbox">Get Started</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="offset8 span4 community-title-container">
                    <h1 class="pull-right">Discover News That Matters to You</h1>
                </div>
            </div>
        </div>
        <p class="bg-img-source">Visualization credit NewsMyRoom.</p>
    </div>

    <!-- Intro Section -->
    <section id="intro">
        <div class="container pos-rel">
            <img src="images/spinningglobe.gif" class="spinningglobe" />
            <div class="row">
                <div class="offset8 span4">
                    <h6>Your Personalized News Experience</h6>
                    <p align=justify>NewsMyRoom leverages cutting-edge algorithms to curate articles tailored to your interests. Whether it's global events, niche topics, or the latest trends, stay informed effortlessly. Explore the world through your unique lens, anytime, anywhere.</p>
                </div>
            </div>
        </div>
        <br><br>

        <div class="secondary-bg">
            <div class="container">
                <div class="row">
                    <div class="offset2 span8">
                        <center><h4>NewsMyRoom: Redefining News Consumption</h4></center>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Trending Section -->
    <section id="trending">
        <div class="bg-img" style="background-image: url('images/gdelt-events-nasa-night-lights.jpg')">
            <p class="bg-img-source">Visualization credit NewsMyRoom.</p>
        </div>
        <div class="container">
            <div class="row">
                <div class="span12 center-text">
                    <span class="content-icon"><i class="fa fa-globe fa-2x"></i></span>
                    <h2>Discover What's Trending</h2>
                </div>
            </div>
            <div class="row">
                <div class="span12 center-text">
                    <p><b>Stay ahead with real-time updates on trending news stories across the globe. See what others are reading and join the conversation.</b></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Personalization Section -->
    <section id="personalization">
        <div class="bg-img" style="background-image: url('images/personalization.jpg')">
            <p class="bg-img-source">Visualization credit NewsMyRoom.</p>
        </div>
        <div class="container">
            <div class="row">
                <div class="span12 center-text">
                    <h2>Personalize Your Feed</h2>
                    <p>Choose your favorite topics, regions, and sources to create a news feed tailored just for you. Your news, your way.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Action Section -->
    <section id="actionbox">
        <div class="primary-bg">
            <div class="container">
                <div class="row">
                    <div class="span12 center-text">
                        <h2>Get Started Today!</h2>
                        <div class="portrait"><i class="fa fa-download"></i></div>
                        <p>Join NewsMyRoom to revolutionize how you stay informed.</p>
                        <a href="register.html" class="btn btn-primary">Sign Up Now</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>&copy; 2024 NewsMyRoom. All Rights Reserved.</p>
        </div>
    </footer>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // 로그인 상태 체크
        const token = localStorage.getItem('token');
        const userJson = localStorage.getItem('user');

        const navLoginItem = document.getElementById('nav_login_item');
        const navItems = document.getElementById('nav_items');

        if (token && userJson) {
            // 로그인 상태
            const user = JSON.parse(userJson);
            // 기존 로그인 메뉴 제거
            if (navLoginItem) {
                navLoginItem.remove();
            }

            // 사용자 정보 표시
            const userItem = document.createElement('li');
            userItem.className = 'right with-margin';
            userItem.id = 'nav_user_item';
            const userLink = document.createElement('a');
            userLink.href = '#';
            userLink.className = 'muted';
            userLink.id = 'nav_user_info';
            userLink.textContent = 'Hello, ' + user.username;
            userItem.appendChild(userLink);
            navItems.appendChild(userItem);

            // 로그아웃 항목
            const logoutItem = document.createElement('li');
            logoutItem.className = 'right with-margin';
            logoutItem.id = 'nav_logout_item';
            const logoutLink = document.createElement('a');
            logoutLink.href = '#';
            logoutLink.className = 'muted';
            logoutLink.id = 'nav_logout';
            logoutLink.textContent = 'Log Out';
            logoutLink.addEventListener('click', function(e) {
                e.preventDefault();
                // 로그아웃 시 토큰과 사용자 정보 제거
                localStorage.removeItem('token');
                localStorage.removeItem('user');
                // 페이지 새로고침
                window.location.reload();
            });
            logoutItem.appendChild(logoutLink);
            navItems.appendChild(logoutItem);
        } else {
            // 비로그인 상태 -> 기본 Log In 표시 유지
        }
    });
</script>

</body>
</html>
